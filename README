Required software tools:
=======================

*) GMP (http://gmplib.org): usually installed in most Linux distributions
*) ECM (http://gforge.inria.fr/projects/ecm/)
*) Magma (http://magma.maths.usyd.edu.au/magma/)

[Optional: configure]
=====================

cat <<EOF > Makefile.local
GMP=/usr
GMPLIB=-lgmp
GMPINCLUDE=/usr/include

ECM=/users/spaces/logiciels/ecm-6.1.2/x86_64
EOF

Compile:
=======

make clean ; make

(really do make clean if you happen to touch .h files, are there are no
auto-dependencies)

Run an example:
===============

tmp=/tmp
name=c59

# (for csh addicts:)
# setenv tmp /tmp
# setenv name c59

cat <<EOF > $tmp/$name
n:71641520761751435455133616475667090434063332228247871795429
EOF

## POLYNOMIAL SELECTION STEP
polyselect/polyselect -full -e 1000000 < $tmp/$name > $tmp/$name.poly

# creating factor base
sieve/makefb -poly $tmp/$name.poly > $tmp/$name.roots

# if you want to use free relations
./linalg/freerel $tmp/$name.roots > $tmp/$name.rels

## SIEVING_STEP
## the sieving parameters must be given by hand, sorry!
## and they depend on the polynomial found by polyselect (i.e., b-bound 2500
## below might be too small with different polynomials)
sieve/sieve -poly $tmp/$name.poly -fb $tmp/$name.roots -1000000 1000000 1 2500\
 > $tmp/$name.rels_raw
# note: the above was tested with revision 329 of polyselect and sieve
# note for CACAO members: some data files with sieve relations are available
# in /local/fleur/cado/Examples/{c20,c59,c80} (see below how to use them)

# checking norms, splitting large cofactors and appending to rels
sieve/checknorms -poly $tmp/$name.poly $tmp/$name.rels_raw >> $tmp/$name.rels

/bin/rm -f $tmp/$name.purged $tmp/$name.*algside*
./merge_linalg_sqrt.sh $tmp/$name

## CLEANING STEP: detroies everything, which might not be what you want...
/bin/rm $tmp/$name.*

##############################################################################

(for CACAO members) How to use the files in /local/fleur/cado/Examples.
-----------------------------------------------------------------------

Example with /local/fleur/cado/Examples/c80 (for sh addicts):

name=c80
d=/local/fleur/cado/Examples/$name
tmp=/tmp
cp $d/$name.poly $tmp
cp $d/$name.rels $tmp/$name.rels_raw
# normally the norms are already completely factored, but just in case...
sieve/checknorms -poly $tmp/$name.poly $tmp/$name.rels_raw > $tmp/$name.rels
./merge_linalg_sqrt.sh $tmp/$name
